# DRC 消息快照解读（2025-10-21 16:14:21）

本文基于 `scripts/python/drc_messages_20251021_161358.json` 的原始数据，使用中文说明逐项解读采集到的 DRC 消息。

## 元数据（metadata）
- **gateway_sn**（网关序列号）: `9N9CN180011TJN`
- **capture_time**（采集时间）: `2025-10-21T16:14:21.935038`
- **runtime_seconds**（采集持续时长，单位秒）: `15.80286717414856`
- **total_message_types**（不同消息类型数量）: `13`
- **total_messages**（采集到的总消息数）: `1880`

## 消息统计（statistics）
下表记录每类消息在采集窗口内的出现次数、平均频率及首尾时间。

| 消息类型 | 次数 | 平均频率 Hz | 首次时间 | 最后时间 | 说明 |
| -------- | ---- | ----------- | -------- | -------- | ---- |
| `delay_info_push` | 47 | 3.0016 | 2025-10-21T16:14:06.495841 | 2025-10-21T16:14:21.821029 | 延迟信息推送 |
| `drc_ai_info_push` | 1 | 0.0 | 2025-10-21T16:14:06.165099 | 2025-10-21T16:14:06.165099 | AI 相关状态 |
| `drc_batteries_info_push` | 47 | 3.0022 | 2025-10-21T16:14:06.498954 | 2025-10-21T16:14:21.820919 | 航电电池状态 |
| `drc_camera_osd_info_push` | 47 | 3.0023 | 2025-10-21T16:14:06.498836 | 2025-10-21T16:14:21.820604 | 相机 OSD 信息 |
| `drc_camera_state_push` | 1 | 0.0 | 2025-10-21T16:14:06.153575 | 2025-10-21T16:14:06.153575 | 相机状态 |
| `drc_count_down_info_push` | 1 | 0.0 | 2025-10-21T16:14:06.165397 | 2025-10-21T16:14:06.165397 | 倒计时消息 |
| `drc_drone_state_push` | 2 | 18558.8673 | 2025-10-21T16:14:06.164996 | 2025-10-21T16:14:06.165050 | 飞行器状态（瞬时高频） |
| `drc_geo_connect_info_push` | 47 | 3.0033 | 2025-10-21T16:14:06.496551 | 2025-10-21T16:14:21.812810 | 地理与链路连接信息 |
| `drc_live_video_info_push` | 1 | 0.0 | 2025-10-21T16:14:06.153515 | 2025-10-21T16:14:06.153515 | 视频流参数 |
| `drc_multi_gimbals_sync_info` | 1 | 0.0 | 2025-10-21T16:14:06.165487 | 2025-10-21T16:14:06.165487 | 多云台同步信息 |
| `heart_beat` | 79 | 4.9994 | 2025-10-21T16:14:06.153473 | 2025-10-21T16:14:21.755191 | 心跳保活 |
| `hsi_info_push` | 31 | 2.0016 | 2025-10-21T16:14:06.671720 | 2025-10-21T16:14:21.659634 | HSI 信息 |
| `osd_info_push` | 1575 | 99.9280 | 2025-10-21T16:14:06.173034 | 2025-10-21T16:14:21.924373 | OSD 高频数据 |

## 最新消息（latest_messages）
- 共列出 13 类推送的最新一条记录，便于快速对照字段含义。
- 每段先给出用途摘要，再附原始 JSON（保持与源文件一致，未作裁剪）。

### heart_beat（心跳保活，携带时间戳）
```json
{
  "seq": 1761034461732,
  "method": "heart_beat",
  "data": {
    "timestamp": 1761034461732
  },
  "timestamp": 1761034464633
}
```

### drc_live_video_info_push（当前直播视频通道及可切换类型）
```json
{
  "data": {
    "payload_index": "88-0-0",
    "switchable_video_types": [
      "zoom",
      "wide"
    ],
    "video_index": "normal-0",
    "video_type": "wide"
  },
  "method": "drc_live_video_info_push",
  "seq": 21098,
  "timestamp": 1761034449037
}
```

### drc_camera_state_push（相机能力与当前配置）
```json
{
  "data": {
    "algorithm_dehaze_info": {
      "is_working": false,
      "level": 0,
      "mode": 0
    },
    "camera_capability": {
      "aperture_range": {
        "max": 280,
        "min": 1100
      },
      "interval_param_range": [
        0.5,
        0.7,
        1,
        2,
        3,
        5,
        7,
        10,
        15,
        20,
        30,
        60
      ],
      "iso_range": {
        "max": 11,
        "min": 0
      },
      "resolution_and_frame_rate": [
        {
          "frame_rate": 3,
          "resolution": 0
        },
        {
          "frame_rate": 3,
          "resolution": 1
        }
      ],
      "shutter_range": {
        "max": 51,
        "min": 0
      }
    },
    "camera_state": {
      "camera_mode": 0,
      "camera_watermark_settings": {
        "datetime_enable": 0,
        "drone_sn_enable": 0,
        "drone_type_enable": 0,
        "global_enable": 0,
        "gps_enable": 0,
        "layout": 0,
        "manufacturer_enable": 0,
        "user_custom_string": "",
        "user_custom_string_enable": 0
      },
      "interval_photo_interval": 10,
      "night_mode_settings": {
        "denoise_level": 0,
        "infrared_fill_light_enable": false,
        "is_working": 0,
        "night_mode": 0,
        "night_scene_mode_suggestion": 0,
        "night_vision_enable": false
      },
      "photo_format": 1,
      "photo_size": 0,
      "photo_state": 0,
      "record_time": 0,
      "recording_state": 0,
      "remain_photo_num": 9503,
      "remain_record_duration": 0,
      "storage": {
        "total": 60382000,
        "used": 27000
      },
      "video_resolution": 1
    },
    "media_storage": {},
    "payload_index": "88-0-0",
    "pre_recorded_info": {}
  },
  "method": "drc_camera_state_push",
  "seq": 21099,
  "timestamp": 1761034449039
}
```

### drc_drone_state_push（飞行器运行限制与模式状态）
```json
{
  "data": {
    "is_in_fixed_speed": false,
    "is_near_distance_limit": 0,
    "is_near_height_limit": 0,
    "limit": {
      "distance_limit": 5000,
      "distance_limit_state": 0,
      "height_limit": 120
    },
    "mode_code": 0,
    "night_lights_state": 0,
    "rth_altitude": 100,
    "stealth_state": 0
  },
  "method": "drc_drone_state_push",
  "seq": 21101,
  "timestamp": 1761034449041
}
```

### drc_ai_info_push（AI 模型加载与识别开关）
```json
{
  "data": {
    "ai_model_list": [],
    "ai_spotlight_zoom": {},
    "identify_on": 0,
    "selected_ai_model": {
      "digital_effect": [],
      "image_source": [],
      "index": 0,
      "labels": []
    }
  },
  "method": "drc_ai_info_push",
  "seq": 21102,
  "timestamp": 1761034449042
}
```

### drc_count_down_info_push（通用倒计时提示）
```json
{
  "data": {},
  "method": "drc_count_down_info_push",
  "seq": 21103,
  "timestamp": 1761034449042
}
```

### drc_multi_gimbals_sync_info（多云台同步标记）
```json
{
  "data": {},
  "method": "drc_multi_gimbals_sync_info",
  "seq": 21104,
  "timestamp": 1761034449043
}
```

### osd_info_push（姿态/高度等高频 OSD）
```json
{
  "data": {
    "attitude_head": -176.4,
    "elevation": 0,
    "height": -173.38134765625,
    "home_distance": -1,
    "horizontal_speed": 0,
    "speed_x": 0,
    "speed_y": 0,
    "speed_z": 0,
    "ultrasonic_height": -1,
    "vertical_speed": 0,
    "wind_direction": 0,
    "wind_speed": 0
  },
  "method": "osd_info_push",
  "seq": 22898,
  "timestamp": 1761034464809
}
```

### delay_info_push（链路延迟数据）
```json
{
  "data": {},
  "method": "delay_info_push",
  "seq": 22886,
  "timestamp": 1761034464700
}
```

### drc_geo_connect_info_push（地理定位与链路质量）
```json
{
  "data": {
    "gps": {
      "gps_number": 0,
      "is_fixed": 0,
      "quality": 0,
      "rtk_number": 0
    },
    "wireless_link": {
      "4g_freq_band": 5.8,
      "4g_gnd_quality": 0,
      "4g_link_state": 0,
      "4g_quality": 0,
      "4g_uav_quality": 0,
      "dongle_number": 0,
      "link_workmode": 0,
      "sdr_freq_band": 2.4,
      "sdr_link_state": 1,
      "sdr_quality": 5
    }
  },
  "method": "drc_geo_connect_info_push",
  "seq": 22883,
  "timestamp": 1761034464698
}
```

### drc_camera_osd_info_push（相机云台姿态与镜头状态）
```json
{
  "data": {
    "gimbal_pitch": 0,
    "gimbal_roll": 0,
    "gimbal_yaw": -176.4,
    "ir_lense": {},
    "ir_thermometry": {},
    "liveview": {
      "liveview_world_region": {
        "bottom": 0.559145450592041,
        "left": 0.4387604296207428,
        "right": 0.564268708229065,
        "top": 0.4317513108253479
      }
    },
    "measure_target": {
      "measure_target_altitude": 0,
      "measure_target_distance": 6.700000286102295,
      "measure_target_error_state": 3,
      "measure_target_latitude": 0,
      "measure_target_longitude": 0
    },
    "payload_index": "88-0-0",
    "wide_lense": {
      "wide_aperture_value": 280,
      "wide_calibrate_farthest_focus_value": 25,
      "wide_calibrate_nearest_focus_value": 74,
      "wide_dewarping_state": 1,
      "wide_exposure_mode": 1,
      "wide_exposure_value": 16,
      "wide_focus_mode": 2,
      "wide_focus_state": 0,
      "wide_focus_value": 30,
      "wide_fov_info": {
        "focal_length": 12290,
        "height": 13054,
        "image_ratio": 0,
        "width": 17424
      },
      "wide_iso": 1180,
      "wide_max_focus_value": 87,
      "wide_mechanical_shutter_state": 0,
      "wide_min_focus_value": 12,
      "wide_shutter_speed": 21
    },
    "zoom_lense": {
      "zoom_aperture_value": 280,
      "zoom_calibrate_farthest_focus_value": 25,
      "zoom_calibrate_nearest_focus_value": 74,
      "zoom_exposure_mode": 1,
      "zoom_exposure_value": 16,
      "zoom_factor": 7,
      "zoom_focus_mode": 2,
      "zoom_focus_state": 0,
      "zoom_focus_value": 30,
      "zoom_fov_info": {
        "focal_length": 12290,
        "height": 13054,
        "image_ratio": 0,
        "width": 17424
      },
      "zoom_iso": 1180,
      "zoom_max_focus_value": 87,
      "zoom_min_focus_value": 12,
      "zoom_shutter_speed": 21
    }
  },
  "method": "drc_camera_osd_info_push",
  "seq": 22884,
  "timestamp": 1761034464699
}
```

### drc_batteries_info_push（电池容量与固件版本）
```json
{
  "data": {
    "batteries": [
      {
        "capacity_percent": 70,
        "firmware_version": "29.02.01.41",
        "index": 0,
        "loop_times": 0,
        "sn": "7PAPMC7CA001A1",
        "temperature": 33.4,
        "voltage": 15747
      }
    ],
    "capacity_percent": 64,
    "landing_power": 0,
    "low_battery_warning_threshold": 25,
    "remain_flight_time": 0,
    "return_home_power": 0,
    "serious_low_battery_warning_threshold": 10
  },
  "method": "drc_batteries_info_push",
  "seq": 22885,
  "timestamp": 1761034464700
}
```

### hsi_info_push（HSI 数据片段）
```json
{
  "data": {},
  "method": "hsi_info_push",
  "seq": 22867,
  "timestamp": 1761034464544
}
```
